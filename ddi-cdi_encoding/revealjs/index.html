<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Syntax Representations of the DDI-CDI Model</title>
    <link rel="stylesheet" type="text/css" href="_static/revealjs/dist/reveal.css?v=40f0a724" />
    <link rel="stylesheet" href="_static/revealjs/dist/theme/sky.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/revealjs_custom.css?v=155d2288" />
    <link rel="stylesheet" type="text/css" href="_static/common.css?v=51d1a8f8" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=3184803b" />
    <link rel="stylesheet" type="text/css" href="_static/menu.css?v=b1df3480" />
    <link rel="stylesheet" type="text/css" href="_static/revealjs4/plugin/highlight/monokai.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script src="_static/design-tabs.js?v=36754332"></script>
    <link rel="next" title="DDI-CDI" href="ddi-cdi.html" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  </head><body>
    <div class="reveal">
        <div class="slides" role="main">
            <section >
<section data-name="Main">
<h1>Syntax Representations of the DDI-CDI Model</h1>
<p>Includes published and exploratory approaches</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><em>Draft, needs revision</em></p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Compiled by<span class="colon">:</span></dt>
<dd class="field-odd"><p>Joachim Wackerow and Deirdre Lungley</p>
</dd>
</dl>
</section>
</section>
<section >
<section >
<h2>Overview</h2>
<ul class="simple">
<li><p>Approaches that use the DDI-CDI UML model (Canonical XMI) as a basis</p></li>
<li><p>Approaches that use the DDI-CDI XML Schema as a basis, which is generated from the UML model. Often called XML Schema based data binding.
The generators create usually program libraries.</p></li>
</ul>
</section>
<section >
<h3>Overview on Generated Encodings</h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>UML Model as Basis</p></th>
<th class="head"><p>XML Schema as Basis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ul class="simple">
<li><p>XML Schema</p></li>
<li><p>Ontology (Turtle)</p></li>
<li><p>JSON-LD</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>C#</p></li>
<li><p>C++</p></li>
<li><p>Java</p></li>
<li><p>JSON Schema (issues)</p></li>
<li><p>Python</p></li>
<li><p>R</p></li>
<li><p>Typescript</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section >
<h2>DDI-CDI</h2>
<ul class="simple">
<li><p>DDI-CDI is defined as a UML model</p></li>
<li><p>A restricted set of UML is used, UML Class Model Interoperable Subset (UCMIS)</p></li>
<li><p>The model is expressed as Canonical XMI</p></li>
</ul>
</section>
<section >
<h2>UCMIS</h2>
<ul class="simple">
<li><p><a class="reference external" href="https://bitbucket.org/ddi-alliance/ucmis/">UML Class Model Interoperable Subset (UCMIS)</a>, a subset of UML class diagram items, is intended for data modeling.</p></li>
<li><p>It focuses on core items that are familiar from object-oriented programming.</p></li>
<li><p>The subset focuses on items that describe classes, describe their relationships to each other and their attributes.</p></li>
<li><p>UCMIS supports <strong>model interoperability</strong>, especially if it is in the form of <strong>Canonical XMI</strong>.</p></li>
</ul>
</section>
<section >
<h2>Canonical XMI</h2>
<ul class="simple">
<li><p>The XML Metadata Interchange (XMI) is an Object Management Group (OMG) standard for exchanging metadata information via Extensible Markup Language (XML).</p></li>
<li><p>Canonical XMI (also OMG) is a special restricted format of XMI that minimizes variability and provides predictable identification and ordering.
It supports interoperability.</p></li>
</ul>
</section>
<section >
<h2>XML Schema</h2>
<p>The XML Schema is directly based on the UML model. It is generated with the <a class="reference external" href="https://bitbucket.org/wackerow/ucmis.m2t/src/master/">UCMIS Model-to-Text tool</a>.</p>
<ul class="simple">
<li><p>Entire XML Schema in the GitHub repository <a class="reference external" href="https://github.com/ddi-cdi/ddi-cdi/tree/main/build/encoding/xml-schema">ddi-cdi.xsd</a></p></li>
<li><p>Fragments per class and data types are available in the field-level documentation of DDI-CDI. See the section ‘encodings’ on the bottom of the example
‘<a class="reference external" href="https://ddi-cdi.github.io/ddi-cdi_v1.0-rc3/field-level-documentation/DDICDILibrary/Classes/Conceptual/InstanceVariable.html#inheritance">InstanceVariable</a>’.</p></li>
</ul>
</section>
<section data-name="RDF">
<section >
<h2>RDF</h2>
<p>The encodings <strong>ontology as Turtle</strong> and <strong>JSON-LD</strong> are directly based on the UML model.
They are generated with the <a class="reference external" href="https://bitbucket.org/wackerow/ucmis.m2t/src/master/">UCMIS Model-to-Text tool</a>.</p>
</section>
<section >
<h3>Ontology as Turtle</h3>
<ul class="simple">
<li><p>Main file <a class="reference external" href="https://ddi-cdi.github.io/ddi-cdi_v1.0-rc3/encoding/ontology/ddi-cdi.onto.ttl">ddi-cdi.onto.ttl</a></p></li>
<li><p>Fragments per class and data types are available in the field-level documentation of DDI-CDI. See the section ‘encodings’ on the
bottom of the example <a class="reference external" href="https://ddi-cdi.github.io/ddi-cdi_v1.0-rc3/field-level-documentation/DDICDILibrary/Classes/Conceptual/InstanceVariable.html#inheritance">InstanceVariable</a>.</p></li>
</ul>
</section>
<section >
<h3>Generator Code for Ontology as Turtle</h3>
<p>Acceleo code for generating Turtle on the basis of UML classes.</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">classOnto.mtl</span></div>
<pre><code data-trim data-noescape class="default" data-line-numbers>[comment encoding = UTF-8 /]
[module classOnto('http://www.eclipse.org/uml2/5.0.0/Types', 'http://www.eclipse.org/uml2/5.0.0/UML', 'http://www.eclipse.org/uml2/5.0.0/UML/Profile/Standard')]

[import ucmis::m2t::query::modelQuery /]
[import ucmis::m2t::target::rdf::commonRdf /]
[import ucmis::m2t::target::onto::associationOnto /]
[import ucmis::m2t::target::onto::commonOnto /]

[template public classOnto(aClass : Class)]
# class [aClass.name/]
# based on the UML class [aClass.qualifiedName/]
[aClass.iri()/]
  a rdfs:Class, owl:Class, ucmis:Class;
  rdfs:label &quot;[aClass.name/]&quot;;
  [rdfs_comment(aClass.ownedComment)/]
  [aClass.superClasses()/]
.

[for ( anAttribute : Property | aClass.e_attributes() ) ]
[anAttribute.attributeOnto()/]
[/for]

[for ( anAssociation : Association | aClass.eInverse(Association) ) ?(anAssociation.source() = aClass) ]
[anAssociation.associationOnto(aClass)/]
[/for]
[/template]
</code></pre>
</div>
<div class="font50p docutils container">
Source files at
<a target="_blank" href="https://bitbucket.org/wackerow/ucmis.m2t/src/master/src/ucmis/m2t/target/onto/">UCMIS M2T repository</a>.</div>
</section>
<section >
<h3>JSON-LD</h3>
<ul class="simple">
<li><p>Main file <a class="reference external" href="https://ddi-cdi.github.io/ddi-cdi_v1.0-rc3/encoding/json-ld/ddi-cdi.jsonld">ddi-cdi.jsonld</a></p></li>
<li><p>Fragments per class and data types are available in the field-level documentation of DDI-CDI. See the section ‘encodings’ on the bottom of the
example <a class="reference external" href="https://ddi-cdi.github.io/ddi-cdi_v1.0-rc3/field-level-documentation/DDICDILibrary/Classes/Conceptual/InstanceVariable.html#inheritance">InstanceVariable</a>.</p></li>
</ul>
</section>
</section>
<section data-name="C#">
<section >
<h2>C#</h2>
<p>Based on the XML Schema.</p>
<p>The Microsoft <strong>XML Schema Definition</strong> (Xsd.exe) tool generates XML schema or common language runtime classes from
XDR, XML, and XSD files, or from classes in a runtime assembly.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://learn.microsoft.com/en-us/dotnet/standard/serialization/xml-schema-definition-tool-xsd-exe">XML Schema Definition tool</a></p></li>
<li><p>Prerequisites: <a class="reference external" href="https://visualstudio.microsoft.com/downloads/">Visual Studio</a></p></li>
</ul>
</section>
<section >
<h3>Windows Batch File</h3>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">run_xsd.cmd</span></div>
<pre><code data-trim data-noescape class="bat" data-line-numbers>set MICROSOFT_XSD=C:\Program Files (x86)\Microsoft SDKs\Windows\v10.0A\bin\NETFX 4.8 Tools\xsd
set XSD_HOME=..\..\model_based\xsd_variants

&quot;%MICROSOFT_XSD%&quot; &quot;%XSD_HOME%\ddi-cdi_42_noXsdTypeInName.xsd&quot; /classes /language:CS
&quot;%MICROSOFT_XSD%&quot; &quot;%XSD_HOME%\ddi-cdi_43_noXsdTypeInName.xsd&quot; /classes /language:CS
&quot;%MICROSOFT_XSD%&quot; &quot;%XSD_HOME%\ddi-cdi_44_noXsdTypeInName.xsd&quot; /classes /language:CS
&quot;%MICROSOFT_XSD%&quot; &quot;%XSD_HOME%\ddi-cdi_45_noXsdTypeInName.xsd&quot; /classes /language:CS

set MICROSOFT_XSD=
set XSD_HOME=
</code></pre>
</div>
</section>
<section >
<h3>Generated File</h3>
<p>A code file is generated for C#.</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">Fragment of ddi-cdi_44_noXsdTypeInName.cs</span></div>
<pre><code data-trim data-noescape class="cs" data-line-numbers>[System.CodeDom.Compiler.GeneratedCodeAttribute(&quot;xsd&quot;, &quot;4.8.3928.0&quot;)]
[System.SerializableAttribute()]
[System.Diagnostics.DebuggerStepThroughAttribute()]
[System.ComponentModel.DesignerCategoryAttribute(&quot;code&quot;)]
[System.Xml.Serialization.XmlTypeAttribute(Namespace=&quot;http://ddialliance.org/Specification/DDI-CDI/1.0/XMLSchema/&quot;)]
[System.Xml.Serialization.XmlRootAttribute(Namespace=&quot;http://ddialliance.org/Specification/DDI-CDI/1.0/XMLSchema/&quot;, IsNullable=false)]
public partial class DDICDIModels {
    
    private object[] itemsField;
    
    private Wrapper[] wrapperField;
    
    /// &lt;remarks/&gt;
    [System.Xml.Serialization.XmlElementAttribute(&quot;Activity&quot;, typeof(Activity))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;Agent&quot;, typeof(Agent))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;AgentListing&quot;, typeof(AgentListing))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;AgentPosition&quot;, typeof(AgentPosition))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;AgentRelationship&quot;, typeof(AgentRelationship))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;AgentStructure&quot;, typeof(AgentStructure))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;AllenIntervalAlgebra&quot;, typeof(AllenIntervalAlgebra))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;AttributeComponent&quot;, typeof(AttributeComponent))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;AuthorizationSource&quot;, typeof(AuthorizationSource))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;Category&quot;, typeof(Category))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;CategoryPosition&quot;, typeof(CategoryPosition))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;CategoryRelationStructure&quot;, typeof(CategoryRelationStructure))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;CategoryRelationship&quot;, typeof(CategoryRelationship))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;CategorySet&quot;, typeof(CategorySet))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;CategoryStatistic&quot;, typeof(CategoryStatistic))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;ClassificationFamily&quot;, typeof(ClassificationFamily))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;ClassificationIndex&quot;, typeof(ClassificationIndex))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;ClassificationIndexEntry&quot;, typeof(ClassificationIndexEntry))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;ClassificationIndexEntryPosition&quot;, typeof(ClassificationIndexEntryPosition))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;ClassificationItem&quot;, typeof(ClassificationItem))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;ClassificationItemPosition&quot;, typeof(ClassificationItemPosition))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;ClassificationItemRelationship&quot;, typeof(ClassificationItemRelationship))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;ClassificationItemStructure&quot;, typeof(ClassificationItemStructure))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;ClassificationPosition&quot;, typeof(ClassificationPosition))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;ClassificationSeries&quot;, typeof(ClassificationSeries))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;ClassificationSeriesStructure&quot;, typeof(ClassificationSeriesStructure))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;Code&quot;, typeof(Code))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;CodeList&quot;, typeof(CodeList))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;CodeListStructure&quot;, typeof(CodeListStructure))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;CodePosition&quot;, typeof(CodePosition))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;CodeRelationship&quot;, typeof(CodeRelationship))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;ComponentPosition&quot;, typeof(ComponentPosition))]
    [System.Xml.Serialization.XmlElementAttribute(&quot;Concept&quot;, typeof(Concept))]
</code></pre>
</div>
<div class="font50p docutils container">
<p>Source file <a class="reference external" href="https://github.com/ddi-cdi-resources/ddi-cdi_encoding/tree/main/encoding/xsd_based/c%23/ddi-cdi_44_noXsdTypeInName.cs">ddi-cdi.cs</a></p>
</div>
</section>
</section>
<section data-name="C++">
<section >
<h2>C++</h2>
<p>Based on the XML Schema.</p>
<p><strong>CodeSynthesis XSD</strong> is an open-source, cross-platform W3C XML Schema to C++ data binding compiler.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.codesynthesis.com/products/xsd/">Product</a></p></li>
<li><p><a class="reference external" href="https://www.codesynthesis.com/download/xsd/4.2/windows/README.xhtml">Installing XSD on Windows</a></p></li>
<li><p><a class="reference external" href="https://www.codesynthesis.com/projects/xsd/documentation/cxx/tree/guide/">C++/Tree Mapping Getting Started Guide</a></p></li>
</ul>
</section>
<section >
<h3>Windows Batch File</h3>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text">run_xsd.cmd</span></div>
<pre><code data-trim data-noescape class="bat" data-line-numbers>set XSD_HOME=..\..\model_based\xsd_variants
set XSD_EXE_FOLDER=C:\Programs\c++xsd\xsd-4.2.0-x86_64-windows10\bin
rem set XSD_EXE_FOLDER=E:\DDI\CDI\SyntaxRepresentation\encoding\c++\xsd-4.2.0-x86_64-windows10\bin

%XSD_EXE_FOLDER%\xsd.exe cxx-tree --root-element DDICDIModels %XSD_HOME%\ddi-cdi_42_noXsdTypeInName.xsd
rem %XSD_EXE_FOLDER%\xsd.exe cxx-tree --root-element DDICDIModels %XSD_HOME%\ddi-cdi_43_noXsdTypeInName.xsd
rem %XSD_EXE_FOLDER%\xsd.exe cxx-tree --root-element DDICDIModels %XSD_HOME%\ddi-cdi_44_noXsdTypeInName.xsd
rem %XSD_EXE_FOLDER%\xsd.exe cxx-tree --root-element DDICDIModels %XSD_HOME%\ddi-cdi_45_noXsdTypeInName.xsd

set XSD_HOME=
set XSD_EXE_FOLDER=
</code></pre>
</div>
<div class="font50p docutils container">
<p>Source file <a class="reference external" href="https://github.com/ddi-cdi-resources/ddi-cdi_encoding/tree/main/encoding/xsd_based/c%2B%2B/run_xsd.cmd">run_xsd.cmd</a></p>
</div>
</section>
<section >
<h3>Generated Files</h3>
<p>A code file and a header file are generated for C++.</p>
</section>
<section >
<h3>C++ Code File Fragment</h3>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">Fragment of ddi-cdi_44_noXsdTypeInName.cxx</span></div>
<pre><code data-trim data-noescape class="c" data-line-numbers>#include &lt;xsd/cxx/pre.hxx&gt;

#include &quot;ddi-cdi_44_noXsdTypeInName.hxx&quot;

namespace XMLSchema
{
  // DDICDIModels
  //

  const DDICDIModels::Activity_sequence&amp; DDICDIModels::
  Activity () const
  {
    return this-&gt;Activity_;
  }

  DDICDIModels::Activity_sequence&amp; DDICDIModels::
  Activity ()
  {
    return this-&gt;Activity_;
  }

  void DDICDIModels::
  Activity (const Activity_sequence&amp; s)
  {
    this-&gt;Activity_ = s;
  }
</code></pre>
</div>
<div class="font50p docutils container">
<p>Source file <a class="reference external" href="https://github.com/ddi-cdi-resources/ddi-cdi_encoding/tree/main/encoding/xsd_based/c%2B%2B/ddi-cdi_44_noXsdTypeInName.cxx">ddi-cdi.cxx</a></p>
</div>
</section>
<section >
<h3>C++ Header File Fragment</h3>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">Fragment of ddi-cdi_44_noXsdTypeInName.hxx</span></div>
<pre><code data-trim data-noescape class="c" data-line-numbers>    // AuthorizationSource
    //
    typedef ::XMLSchema::AuthorizationSource AuthorizationSource_type;
    typedef ::xsd::cxx::tree::sequence&lt; AuthorizationSource_type &gt; AuthorizationSource_sequence;
    typedef AuthorizationSource_sequence::iterator AuthorizationSource_iterator;
    typedef AuthorizationSource_sequence::const_iterator AuthorizationSource_const_iterator;
    typedef ::xsd::cxx::tree::traits&lt; AuthorizationSource_type, char &gt; AuthorizationSource_traits;

    const AuthorizationSource_sequence&amp;
    AuthorizationSource () const;

    AuthorizationSource_sequence&amp;
    AuthorizationSource ();

    void
    AuthorizationSource (const AuthorizationSource_sequence&amp; s);

    // Category
    //
    typedef ::XMLSchema::Category Category_type;
    typedef ::xsd::cxx::tree::sequence&lt; Category_type &gt; Category_sequence;
</code></pre>
</div>
<div class="font50p docutils container">
<p>Source file <a class="reference external" href="https://github.com/ddi-cdi-resources/ddi-cdi_encoding/tree/main/encoding/xsd_based/c%2B%2B/ddi-cdi_44_noXsdTypeInName.hxx">ddi-cdi.hxx</a></p>
</div>
</section>
</section>
<section data-name="Java">
<section >
<h2>Java</h2>
<div class="line-block">
<div class="line">Approaches are based on the XML Schema:</div>
<div class="line"><strong>JAXB</strong> and <strong>XMLBeans</strong></div>
</div>
<ul class="simple">
<li><p><a class="reference external" href="https://eclipse-ee4j.github.io/jaxb-ri/">JAXB - Eclipse Jakarta XML Binding</a> provides an API and tools that automate the mapping between XML documents and Java objects.</p></li>
<li><p><a class="reference external" href="https://xmlbeans.apache.org/">Apache XMLBeans</a> is a technology for accessing XML by binding it to Java types.</p></li>
</ul>
</section>
<section >
<h3>JAXB Generation - Windows Batch File</h3>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">run_xjc.cmd</span></div>
<pre><code data-trim data-noescape class="bat" data-line-numbers>set JAXB_HOME=C:\Programs\jaxb\jaxb-ri-4.0.3\jaxb-ri
set XSD_HOME=..\..\model_based\xsd_variants

IF EXIST jaxb_42 RMDIR /S /Q jaxb_42
IF NOT EXIST jaxb_42 MKDIR jaxb_42
call %JAXB_HOME%\bin\xjc.bat -d jaxb_42 &quot;%XSD_HOME%\ddi-cdi_42_noXsdTypeInName.xsd&quot;

IF EXIST jaxb_43 RMDIR /S /Q jaxb_43
IF NOT EXIST jaxb_43 MKDIR jaxb_43
call %JAXB_HOME%\bin\xjc.bat -d jaxb_43 &quot;%XSD_HOME%\ddi-cdi_43_noXsdTypeInName.xsd&quot;

IF EXIST jaxb_44 RMDIR /S /Q jaxb_44
IF NOT EXIST jaxb_44 MKDIR jaxb_44
call %JAXB_HOME%\bin\xjc.bat -d jaxb_44 &quot;%XSD_HOME%\ddi-cdi_44_noXsdTypeInName.xsd&quot;

IF EXIST jaxb_45 RMDIR /S /Q jaxb_45
IF NOT EXIST jaxb_45 MKDIR jaxb_45
call %JAXB_HOME%\bin\xjc.bat -d jaxb_45 &quot;%XSD_HOME%\ddi-cdi_45_noXsdTypeInName.xsd&quot;

set JAXB_HOME=
set XSD_HOME=
</code></pre>
</div>
</section>
<section >
<h3>Generation with XMLBeans - Ant Build File</h3>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text">build.xml</span></div>
<pre><code data-trim data-noescape class="xml" data-line-numbers>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project name=&quot;ddi-cdi-xmlbeans&quot; default=&quot;create-xmlbeans&quot;&gt;
	&lt;!-- xmlbeans location --&gt;
	&lt;property name=&quot;xmlbeans.lib.dir&quot; location=&quot;C:/Programs/xmlbeans-5.2.0/lib&quot;/&gt;
	&lt;!-- Set the classpath --&gt;
	&lt;path id=&quot;build.classpath&quot;&gt;
		&lt;fileset dir=&quot;${xmlbeans.lib.dir}&quot;&gt;
			&lt;include name=&quot;*.jar&quot;/&gt;
		&lt;/fileset&gt;
	&lt;/path&gt;
	&lt;taskdef name=&quot;xmlbeans&quot; classname=&quot;org.apache.xmlbeans.impl.tool.XMLBean&quot; classpath=&quot;${xmlbeans.lib.dir}/xmlbeans-5.2.0.jar&quot; classpathref=&quot;build.classpath&quot;/&gt;
	&lt;!-- ddi-cdi schema --&gt;
	&lt;property name=&quot;xsd_42&quot; location=&quot;../../model_based/xsd_variants/ddi-cdi_42_noXsdTypeInName.xsd&quot;/&gt;
	&lt;property name=&quot;xsd_43&quot; location=&quot;../../model_based/xsd_variants/ddi-cdi_43_noXsdTypeInName.xsd&quot;/&gt;
	&lt;property name=&quot;xsd_44&quot; location=&quot;../../model_based/xsd_variants/ddi-cdi_44_noXsdTypeInName.xsd&quot;/&gt;
	&lt;property name=&quot;xsd_45&quot; location=&quot;../../model_based/xsd_variants/ddi-cdi_45_noXsdTypeInName.xsd&quot;/&gt;
	&lt;target name=&quot;create-xmlbeans&quot;&gt;
		&lt;xmlbeans schema=&quot;${xsd_42}&quot; download=&quot;true&quot; classpath=&quot;ddi-cdi-xmlbeans.jar&quot; srconly=&quot;true&quot; srcgendir=&quot;xmlbeans_42&quot;/&gt;
		&lt;xmlbeans schema=&quot;${xsd_43}&quot; download=&quot;true&quot; classpath=&quot;ddi-cdi-xmlbeans.jar&quot; srconly=&quot;true&quot; srcgendir=&quot;xmlbeans_43&quot;/&gt;
		&lt;xmlbeans schema=&quot;${xsd_44}&quot; download=&quot;true&quot; classpath=&quot;ddi-cdi-xmlbeans.jar&quot; srconly=&quot;true&quot; srcgendir=&quot;xmlbeans_44&quot;/&gt;
		&lt;xmlbeans schema=&quot;${xsd_45}&quot; download=&quot;true&quot; classpath=&quot;ddi-cdi-xmlbeans.jar&quot; srconly=&quot;true&quot; srcgendir=&quot;xmlbeans_45&quot;/&gt;
	&lt;/target&gt;
&lt;/project&gt;</code></pre>
</div>
</section>
<section >
<h3>Evaluation</h3>
<p>JAXB seems to be the better choice. XMLBeans doesn’t … (to be filled in)</p>
</section>
</section>
<section data-name="JSON Schema">
<section >
<h2>JSON Schema</h2>
<div class="line-block">
<div class="line">Approach is based on the XML Schema:</div>
<div class="line"><strong>xsd2jsonschema</strong> - <em>A pure JavaScript library for translating complex XML Schemas into JSON Schemas.</em></div>
</div>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/andrewbober/xsd2jsonschema">xsd2jsonschema repository</a></p></li>
</ul>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<p class="sd-card-text">Other known approaches are provided by the commercial products Altova XML Spy and Oxygen XML Editor.</p>
</div>
</div>
</section>
<section >
<h3>JSON Schema Generation with xsd2jsonschema - Windows Batch File</h3>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">run.cmd</span></div>
<pre><code data-trim data-noescape class="bat" data-line-numbers>node ddi-cdi.js &gt; ddi-cdi.schema.json</code></pre>
</div>
</section>
<section >
<h3>xs:choice Doesn’t Seem to be Implemented</h3>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text">generation.log</span></div>
<pre><code data-trim data-noescape class="text" data-line-numbers>Error: choice array needs to be implemented!!
    at ConverterDraft07.handleChoiceArray (E:\Git\ddi-cdi_encoding\encoding\xsd_based\json-schema\node_modules\xsd2jsonschema\src\converterDraft04.js:328:9)
    at ConverterDraft07.choice (E:\Git\ddi-cdi_encoding\encoding\xsd_based\json-schema\node_modules\xsd2jsonschema\src\converterDraft04.js:357:16)
    at ConverterDraft07.process (E:\Git\ddi-cdi_encoding\encoding\xsd_based\json-schema\node_modules\xsd2jsonschema\src\converterDraft04.js:134:33)
    at BaseConversionVisitor.visit (E:\Git\ddi-cdi_encoding\encoding\xsd_based\json-schema\node_modules\xsd2jsonschema\src\visitors\visitor.js:60:26)
    at DepthFirstTraversal.walk (E:\Git\ddi-cdi_encoding\encoding\xsd_based\json-schema\node_modules\xsd2jsonschema\src\depthFirstTraversal.js:47:34)
    at DepthFirstTraversal.walk (E:\Git\ddi-cdi_encoding\encoding\xsd_based\json-schema\node_modules\xsd2jsonschema\src\depthFirstTraversal.js:52:12)
    at DepthFirstTraversal.walk (E:\Git\ddi-cdi_encoding\encoding\xsd_based\json-schema\node_modules\xsd2jsonschema\src\depthFirstTraversal.js:52:12)
    at DepthFirstTraversal.walk (E:\Git\ddi-cdi_encoding\encoding\xsd_based\json-schema\node_modules\xsd2jsonschema\src\depthFirstTraversal.js:52:12)
    at DepthFirstTraversal.traverse (E:\Git\ddi-cdi_encoding\encoding\xsd_based\json-schema\node_modules\xsd2jsonschema\src\depthFirstTraversal.js:78:9)
    at Xsd2JsonSchema.processSchema (E:\Git\ddi-cdi_encoding\encoding\xsd_based\json-schema\node_modules\xsd2jsonschema\src\xsd2JsonSchema.js:264:37)</code></pre>
</div>
</section>
</section>
<section data-name="Python">
<section >
<h2>Python</h2>
<p>Approach is based on the XML Schema.</p>
<p><strong>generateDS</strong> - Generate Data Structures from XML Schema</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.davekuhlman.org/generateDS.html">Documentation</a></p></li>
<li><p><a class="reference external" href="http://www.davekuhlman.org/generateds_tutorial.html">Introduction and Tutorial</a></p></li>
</ul>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text">Installation</span></div>
<pre><code data-trim data-noescape class="python">pip install generateDS</code></pre>
</div>
</section>
<section >
<h3>Windows Batch File for the Generation</h3>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text">xsd2py.cmd</span></div>
<pre><code data-trim data-noescape class="bat" data-line-numbers>set XSD_HOME=..\..\model_based\xsd_variants

process_includes.py %XSD_HOME%\ddi-cdi_42_noXsdTypeInName.xsd ddi-cdi_42_noXsdTypeInName_complete.xsd
generateDS.py --export=etree --no-warnings -o ddi-cdi_42.py ddi-cdi_42_noXsdTypeInName_complete.xsd

process_includes.py %XSD_HOME%\ddi-cdi_43_noXsdTypeInName.xsd ddi-cdi_43_noXsdTypeInName_complete.xsd
generateDS.py --export=etree --no-warnings -o ddi-cdi_43.py ddi-cdi_43_noXsdTypeInName_complete.xsd

process_includes.py %XSD_HOME%\ddi-cdi_44_noXsdTypeInName.xsd ddi-cdi_44_noXsdTypeInName_complete.xsd
generateDS.py --export=etree --no-warnings -o ddi-cdi_44.py ddi-cdi_44_noXsdTypeInName_complete.xsd

process_includes.py %XSD_HOME%\ddi-cdi_45_noXsdTypeInName.xsd ddi-cdi_45_noXsdTypeInName_complete.xsd
generateDS.py --export=etree --no-warnings -o ddi-cdi_45.py ddi-cdi_45_noXsdTypeInName_complete.xsd

set XSD_HOME=
</code></pre>
</div>
</section>
</section>
<section >
<h2>Python</h2>
<div class="line-block">
<div class="line">This prototype approach is based on the UML model:</div>
</div>
<p><em>TO DO</em></p>
</section>
<section data-name="R">
<section >
<h2>R Language</h2>
<p>Approach is based on a XML Schema.</p>
<p><strong>R XMLSchema</strong> from Duncan Temple Lang.</p>
<div class="font50p docutils container">
<p><em>A package that reads XML schema into an R representation
and can perform some operations on the resulting information to generate
class definitions and code to read documents using this schema.</em></p>
</div>
<p>The R representation uses S4 classes.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/omegahat/XMLSchema">github repository</a></p></li>
<li><p>Usage of <a class="reference external" href="https://rdrr.io/github/omegahat/XMLSchema/man/readSchema.html">readSchema</a></p></li>
</ul>
</section>
<section >
<h3>Installation of XMLSchema in R</h3>
<pre data-id="installation-of-xmlschema-in-r"><code data-trim data-noescape class="r" data-line-numbers>install.packages(&quot;remotes&quot;)
remotes::install_github(&quot;omegahat/XMLSchema&quot;)
install.packages(&quot;sloop&quot;)
</code></pre>
</section>
<section >
<h3>Test Run</h3>
<p>An internal representation of the XML schema is created as S4 classes.</p>
<pre data-id="test-run"><code data-trim data-noescape class="r" data-line-numbers>options(echo=TRUE)

library(sloop)
library(XML)
library(XMLSchema)

args &lt;- commandArgs(TRUE)
print(args[1])

print('--------------------------------------------------')
cdi = readSchema(args[1], createConverters = TRUE, verbose = TRUE)
# cdi = readSchema(&quot;E:/Git/ddi-cdi/build/encoding/xml-schema/ddi-cdi.xsd&quot;, createConverters = TRUE)

print('--------------------------------------------------')
is(cdi)

print('--------------------------------------------------')
otype(cdi)

print('--------------------------------------------------')
class(cdi)

print('--------------------------------------------------')
names(cdi)

print('--------------------------------------------------')
sapply(cdi, length)

print('--------------------------------------------------')
sapply(cdi, class)

print('--------------------------------------------------')
sapply(cdi, names)

print('--------------------------------------------------')
showMethods( classes=class(cdi) )

print('--------------------------------------------------')
print(cdi)

print('--------------------------------------------------')
saveRDS(cdi, 'cdi.rds')
rm(cdi)
exists(&quot;cdi&quot;)
cdi &lt;- readRDS('cdi.rds')
otype(cdi)
class(cdi)
names(cdi)

# serialize S4 classes, not sure if this is right
sink(&quot;cdi.R&quot;)
sapply(cdi, expandS4)
sink()
</code></pre>
</section>
<section >
<h3>Documentation of XMLSchema</h3>
<p>In R:</p>
<pre data-id="documentation-of-xmlschema"><code data-trim data-noescape class="r">help(package=&quot;XMLSchema&quot;)</code></pre>
<p>Once a local web server has been started, the documentation is displayed in the web browser.</p>
</section>
</section>
<section >
<h2>R Language</h2>
<div class="line-block">
<div class="line">This prototype approach is based on the UML model:</div>
</div>
<p><em>TO DO</em></p>
</section>
<section data-name="Typescript">
<section >
<h2>Typescript</h2>
<div class="line-block">
<div class="line">Approach is based on the XML Schema:</div>
<div class="line"><strong>cxsd</strong> <em>is a streaming XSD parser and XML parser generator for Node.js and TypeScript.</em></div>
</div>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/charto/cxsd">cxsd repository</a></p></li>
</ul>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<ul class="simple">
<li><p class="sd-card-text">The input XML Schema must be provided by a web server.</p></li>
<li><p class="sd-card-text">cxsd generates the files XMLSchema.d.ts and XMLSchema.js.</p></li>
</ul>
</div>
</div>
</section>
<section >
<h3>Typescript Generation with cxsd - Windows Batch File</h3>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text">run_cxsd.cmd</span></div>
<pre><code data-trim data-noescape class="bat" data-line-numbers>set XSD_HOME=..\..\model_based\xsd_variants

rem from https://github.com/charto/cxsd
rem   The first line just sets up NPM to allow calling cxsd without installing it globally. It also works on Windows if you omit the single quotes (').

rem echo { &quot;scripts&quot;: { &quot;cxsd&quot;: &quot;cxsd&quot; } } &gt; package.json
rem npm install cxsd

start python -m http.server --directory %XSD_HOME%
TIMEOUT /T 10

IF EXIST xmlns RMDIR /S /Q xmlns
IF EXIST 42 RMDIR /S /Q 42
IF NOT EXIST 42 MKDIR 42
call npm run cxsd http://localhost:8000/ddi-cdi_42_noXsdTypeInName.xsd &gt; 42.log 2&gt;&amp;1
move xmlns 42

IF EXIST xmlns RMDIR /S /Q xmlns
IF EXIST 43 RMDIR /S /Q 43
IF NOT EXIST 43 MKDIR 43
call npm run cxsd http://localhost:8000/ddi-cdi_43_noXsdTypeInName.xsd &gt; 43.log 2&gt;&amp;1
move xmlns 43

IF EXIST xmlns RMDIR /S /Q xmlns
IF EXIST 44 RMDIR /S /Q 44
IF NOT EXIST 44 MKDIR 44
call npm run cxsd http://localhost:8000/ddi-cdi_44_noXsdTypeInName.xsd &gt; 44.log 2&gt;&amp;1
move xmlns 44

IF EXIST xmlns RMDIR /S /Q xmlns
IF EXIST 45 RMDIR /S /Q 45
IF NOT EXIST 45 MKDIR 45
call npm run cxsd http://localhost:8000/ddi-cdi_45_noXsdTypeInName.xsd &gt; 45.log 2&gt;&amp;1
move xmlns 45

set XSD_HOME=
</code></pre>
</div>
</section>
</section>
<section >
<h2>Open Issues</h2>
<ul class="simple">
<li><p>ShEx / SHACL generation on the basis of the UML model, would be great for validation</p></li>
<li><p>Would following encodings make sense?</p>
<ul>
<li><p>JSON Schema (issues with XSD-based generator), would be great for validation</p></li>
<li><p>GraphQL (tests with generateDS and StarUML should be documented)</p></li>
</ul>
</li>
<li><p>Pending tests with the various approaches</p></li>
<li><p>Does the definition of a set of common high-lever functions (get, set, …) make sense across various encodings?</p></li>
</ul>
</section>
</section>

        </div>
    </div>
    
    <script src="_static/revealjs/dist/reveal.js"></script>
    
    
      <script src="_static/revealjs/plugin/highlight/highlight.js"></script>
      <script src="_static/revealjs/plugin/zoom/zoom.js"></script>
      <script src="_static/menu.js"></script>
      
    
    <script>
        var revealjsConfig = new Object();
        Object.assign(revealjsConfig, {"hash": true, "slideNumber": "c/t", "menu": {"side": "left", "width": "normal", "numbers": false, "titleSelector": "h1, h2, h3, h4, h5, h6", "useTextContentForMissingTitles": false, "hideMissingTitles": false, "markers": true, "custom": false, "themes": false, "themesPath": "dist/theme/", "transitions": false, "openButton": true, "openSlideNumber": false, "keyboard": true, "sticky": false, "autoOpen": true, "delayInit": false, "openOnInit": false, "loadIcons": true}, "scrollActivationWidth": null});
        
        
        
          revealjsConfig.plugins = [
            RevealHighlight,RevealZoom,RevealMenu,
          ];
        
        // More info https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize(revealjsConfig);
    </script>

  </body>
</html>